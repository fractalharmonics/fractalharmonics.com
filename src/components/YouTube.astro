---
const {
  id,
  list,
  title = "Video",
} = Astro.props;

const params = new URLSearchParams({
  rel: "0",
  modestbranding: "1",
  iv_load_policy: "3",
});

if (list) {
  params.set("list", list);
}

const src = `https://www.youtube-nocookie.com/embed/${id}?${params.toString()}`;
---

<div style="position: relative; padding-bottom: 56.25%; height: 0;">
  <iframe
    src={src}
    title={title}
    style="position:absolute; inset:0; width:100%; height:100%;"
    frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; picture-in-picture"
    allowfullscreen
  ></iframe>
</div>
